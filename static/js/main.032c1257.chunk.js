(this.webpackJsonpreact_day_7=this.webpackJsonpreact_day_7||[]).push([[0],{28:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(16),o=n.n(i),s=(n(28),n(8)),c=n(9),u=n(13),l=n(11),d="ADD_COUNT",p="REDUCE_COUNT",j="ADD_TODO",b="ADD_TODO_SUCCESS",h="ADD_TODO_FAIL",O="REMOVE_TODO",f="REMOVE_TODO_SUCCESS",y="REMOVE_TODO_FAIL",x="EDIT_TODO",g="REGISTER_USER",v=n(7),m=n(1),D=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this.props.taskData;e.taskData.isLoading&&!t.isLoading&&console.log("data updated")}},{key:"addCount",value:function(){this.props.addSubmit(2)}},{key:"addToDo",value:function(){var e=this._inputEle.value;if(this._inputEle.value="",""!==e){var t={task:e,key:Date.now()};this.props.addToDo(t)}}},{key:"removeToDo",value:function(e){this.props.removeToDo(e)}},{key:"editToDo",value:function(e){this.props.editToDo(e)}},{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{style:k.main,children:[Object(m.jsx)("h1",{children:"Home"}),Object(m.jsxs)("h1",{children:["Count: ",this.props.countData]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("button",{onClick:function(){return e.addCount()},children:"Add"}),Object(m.jsx)("button",{onClick:function(){return e.props.reduceSubmit()},children:"Reduce"})]}),Object(m.jsx)("input",{type:"text",placeholder:"Task",ref:function(t){return e._inputEle=t}}),this.props.taskData.isLoading?Object(m.jsx)("p",{children:"Loading..."}):Object(m.jsx)("button",{onClick:function(){return e.addToDo()},children:"Add Task"}),Object(m.jsx)("ul",{children:this.props.taskData.data.map((function(t){return e.props.removeData.isLoading&&t.key===e.props.taskData.identify?Object(m.jsx)("p",{children:"Deleting..."}):Object(m.jsxs)("li",{children:[t.task,Object(m.jsx)("button",{onClick:function(){e.removeToDo(t.key)},children:"Remove"}),Object(m.jsx)("button",{onClick:function(){e.editToDo(t)},children:"Edit"})]})}))})]})}}]),n}(a.a.Component),k={main:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},_={addSubmit:function(e){return{type:d,payload:e}},reduceSubmit:function(){return{type:p}},addToDo:function(e){return function(t){try{t({type:j}),setTimeout((function(){t({type:b,payload:e})}),3e3)}catch(n){t({type:h,error:n})}}},removeToDo:function(e){return function(t){try{t({type:O,payload:e}),setTimeout((function(){t({type:f,payload:e})}),3e3)}catch(n){t({type:y,error:n})}}},editToDo:function(e){return{type:x,payload:e}}},E=Object(v.b)((function(e){return{countData:e.count,taskData:e.task,removeData:e.remove}}),_)(D),T=n(20),C=n(12),L=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"loginUser",value:function(){var e=this._userEle.value,t=this._passEle.value;this.props.userData.data.map((function(n){n.user===e&&n.pass===t&&(window.location.href="http://localhost:3000/home",Object(T.a)("status"))})),alert("Incorrect username or password")}},{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{style:w.main,children:[Object(m.jsx)("h1",{children:"Login here"}),Object(m.jsx)("input",{type:"text",placeholder:"Username",ref:function(t){return e._userEle=t}}),Object(m.jsx)("input",{type:"password",placeholder:"Password",ref:function(t){return e._passEle=t}}),Object(m.jsx)("button",{onClick:function(){return e.loginUser()},children:"Login"}),Object(m.jsx)("button",{children:Object(m.jsx)(C.b,{to:"/register",children:"Register"})})]})}}]),n}(r.Component),w={main:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"100px"}},U=Object(v.b)((function(e){return{userData:e.user}}),{})(L),S=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"registerUser",value:function(){var e=this._userEle.value,t=this._passEle.value;if(this._userEle.value="",this._passEle.value="",""!==e&&""!==t){var n={user:e,pass:t,key:Date.now()};this.props.registerUser(n),alert("Successfully registered. Please return to login page.")}else alert("Please input both username and password!")}},{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{style:R.main,children:[Object(m.jsx)("h1",{children:"Register here"}),Object(m.jsx)("input",{type:"text",placeholder:"Username",ref:function(t){return e._userEle=t}}),Object(m.jsx)("input",{type:"password",placeholder:"Password",ref:function(t){return e._passEle=t}}),Object(m.jsx)("button",{onClick:function(){return e.registerUser()},children:"Register"}),Object(m.jsx)("button",{children:Object(m.jsx)(C.b,{to:"/",children:"Return to Login"})})]})}}]),n}(r.Component),R={main:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"100px"}},A={registerUser:function(e){return{type:g,payload:e}}},I=Object(v.b)((function(e){return{}}),A)(S),F=n(2);var P=function(){return Object(m.jsx)(C.a,{classname:"App",basename:"/react-day-7",children:Object(m.jsxs)(F.c,{children:[Object(m.jsx)(F.a,{path:"/",element:Object(m.jsx)(U,{})}),Object(m.jsx)(F.a,{path:"/register",exact:!0,element:Object(m.jsx)(I,{})}),Object(m.jsx)(F.a,{path:"/home",exact:!0,element:Object(m.jsx)(E,{})})]})})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,39)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),i(e),o(e)}))},V=n(21),B=n(23),J=n(6),N=n(22),z=n.n(N),G=n(3),H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return e+t.payload;case p:return e-1;default:return e}},q=n(5),K={isLoading:!1,data:[],error:null,identify:0},Q=function(e,t){switch(t.type){case j:return{isLoading:!0,data:Object(q.a)(e.data),error:null};case b:return{isLoading:!1,data:[].concat(Object(q.a)(e.data),[t.payload]),error:null};case h:case y:return{isLoading:!1,data:Object(q.a)(e.data),error:t.error};case O:return{isLoading:!1,data:Object(q.a)(e.data),error:null,identify:t.payload};case f:return{isLoading:!1,data:e.data.filter((function(e){return e.key!==t.payload})),error:null};case x:var n=[];return e.data.map((function(e){var r={task:"",key:0};e.key===t.payload.key?(r.task=e.task.toUpperCase(),r.key=e.key,n.push(r)):n.push(e)})),{isLoading:!1,data:n,error:null};default:return K}},W={isLoading:!1,data:[],error:null},X=function(e,t){switch(t.type){case O:return{isLoading:!0,data:Object(q.a)(e.data),error:null};case f:return{isLoading:!1,data:e.data.filter((function(e){return e.key!==t.payload})),error:null};case y:return{isLoading:!1,data:Object(q.a)(e.data),error:t.error};default:return W}},Y={data:[]},Z=function(e,t){return t.type===g?{data:[].concat(Object(q.a)(e.data),[t.payload])}:Y},$=Object(G.b)({count:H,task:Q,remove:X,user:Z}),ee={key:"root",version:1,storage:z.a,blacklist:["count"]},te=Object(J.g)(ee,$),ne=Object(B.a)({reducer:te,middleware:function(e){return e({serializableCheck:{ignoredActions:[J.a,J.f,J.b,J.c,J.d,J.e]}})}}),re=Object(J.h)(ne);o.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(v.a,{store:ne,children:Object(m.jsx)(V.a,{loading:null,persistor:re,children:Object(m.jsx)(P,{})})})}),document.getElementById("root")),M()}},[[38,1,2]]]);
//# sourceMappingURL=main.032c1257.chunk.js.map