(this.webpackJsonpreact_day_7=this.webpackJsonpreact_day_7||[]).push([[0],{27:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(16),s=n.n(i),o=(n(27),n(8)),c=n(9),u=n(13),l=n(11),d="ADD_COUNT",p="REDUCE_COUNT",j="ADD_TODO",b="ADD_TODO_SUCCESS",h="ADD_TODO_FAIL",O="REMOVE_TODO",f="REMOVE_TODO_SUCCESS",y="REMOVE_TODO_FAIL",v="EDIT_TODO",g="REGISTER_USER",x="LOGIN_USER",D=n(7),k=n(1),m=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this.props.taskData;e.taskData.isLoading&&!t.isLoading&&console.log("data updated")}},{key:"addCount",value:function(){this.props.addSubmit(2)}},{key:"addToDo",value:function(){var e=this._inputEle.value;if(this._inputEle.value="",""!==e){var t={task:e,key:Date.now()};this.props.addToDo(t)}}},{key:"removeToDo",value:function(e){this.props.removeToDo(e)}},{key:"editToDo",value:function(e){this.props.editToDo(e)}},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{style:_.main,children:[Object(k.jsx)("h1",{children:"Home"}),Object(k.jsxs)("h1",{children:["Count: ",this.props.countData]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("button",{onClick:function(){return e.addCount()},children:"Add"}),Object(k.jsx)("button",{onClick:function(){return e.props.reduceSubmit()},children:"Reduce"})]}),Object(k.jsx)("input",{type:"text",placeholder:"Task",ref:function(t){return e._inputEle=t}}),this.props.taskData.isLoading?Object(k.jsx)("p",{children:"Loading..."}):Object(k.jsx)("button",{onClick:function(){return e.addToDo()},children:"Add Task"}),Object(k.jsx)("ul",{children:this.props.taskData.data.map((function(t){return e.props.removeData.isLoading&&t.key===e.props.taskData.identify?Object(k.jsx)("p",{children:"Deleting..."}):Object(k.jsxs)("li",{children:[t.task,Object(k.jsx)("button",{onClick:function(){e.removeToDo(t.key)},children:"Remove"}),Object(k.jsx)("button",{onClick:function(){e.editToDo(t)},children:"Edit"})]})}))})]})}}]),n}(r.a.Component),_={main:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},E={addSubmit:function(e){return{type:d,payload:e}},reduceSubmit:function(){return{type:p}},addToDo:function(e){return function(t){try{t({type:j}),setTimeout((function(){t({type:b,payload:e})}),3e3)}catch(n){t({type:h,error:n})}}},removeToDo:function(e){return function(t){try{t({type:O,payload:e}),setTimeout((function(){t({type:f,payload:e})}),3e3)}catch(n){t({type:y,error:n})}}},editToDo:function(e){return{type:v,payload:e}}},T=Object(D.b)((function(e){return{countData:e.count,taskData:e.task,removeData:e.remove}}),E)(m),C=n(2),L=n(12),U=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"loginUser",value:function(){var e=this._userEle.value,t=this._passEle.value;if(this._userEle.value="",this._passEle.value="",""!==e&&""!==t){var n={user:e,pass:t};this.props.loginUser(n)}}},{key:"render",value:function(){var e=this;return this.props.userData.status?Object(k.jsx)(C.a,{to:"/home"}):Object(k.jsxs)("div",{style:S.main,children:[Object(k.jsx)("h1",{children:"Login here"}),Object(k.jsx)("input",{type:"text",placeholder:"Username",ref:function(t){return e._userEle=t}}),Object(k.jsx)("input",{type:"password",placeholder:"Password",ref:function(t){return e._passEle=t}}),Object(k.jsx)("button",{onClick:function(){return e.loginUser()},children:"Login"}),Object(k.jsx)("button",{children:Object(k.jsx)(L.b,{to:"/register",children:"Register"})})]})}}]),n}(a.Component),S={main:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"100px"}},w={loginUser:function(e){return{type:x,payload:e}}},R=Object(D.b)((function(e){return{userData:e.user}}),w)(U),A=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"registerUser",value:function(){var e=this._userEle.value,t=this._passEle.value;if(this._userEle.value="",this._passEle.value="",""!==e&&""!==t){var n={user:e,pass:t,key:Date.now()};this.props.registerUser(n),alert("Successfully registered. Please return to login page.")}else alert("Please input both username and password!")}},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{style:I.main,children:[Object(k.jsx)("h1",{children:"Register here"}),Object(k.jsx)("input",{type:"text",placeholder:"Username",ref:function(t){return e._userEle=t}}),Object(k.jsx)("input",{type:"password",placeholder:"Password",ref:function(t){return e._passEle=t}}),Object(k.jsx)("button",{onClick:function(){return e.registerUser()},children:"Register"}),Object(k.jsx)("button",{children:Object(k.jsx)(L.b,{to:"/",children:"Return to Login"})})]})}}]),n}(a.Component),I={main:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"100px"}},F={registerUser:function(e){return{type:g,payload:e}}},P=Object(D.b)((function(e){return{}}),F)(A);var M=function(){return Object(k.jsx)(L.a,{classname:"App",basename:"/react-day-7",children:Object(k.jsxs)(C.d,{children:[Object(k.jsx)(C.b,{path:"/",element:Object(k.jsx)(R,{})}),Object(k.jsx)(C.b,{path:"/register",exact:!0,element:Object(k.jsx)(P,{})}),Object(k.jsx)(C.b,{path:"/home",exact:!0,element:Object(k.jsx)(T,{})})]})})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),i(e),s(e)}))},V=n(20),B=n(22),G=n(6),J=n(21),z=n.n(J),H=n(3),q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return e+t.payload;case p:return e-1;default:return e}},K=n(5),Q={isLoading:!1,data:[],error:null,identify:0},W=function(e,t){switch(t.type){case j:return{isLoading:!0,data:Object(K.a)(e.data),error:null};case b:return{isLoading:!1,data:[].concat(Object(K.a)(e.data),[t.payload]),error:null};case h:case y:return{isLoading:!1,data:Object(K.a)(e.data),error:t.error};case O:return{isLoading:!1,data:Object(K.a)(e.data),error:null,identify:t.payload};case f:return{isLoading:!1,data:e.data.filter((function(e){return e.key!==t.payload})),error:null};case v:var n=[];return e.data.map((function(e){var a={task:"",key:0};e.key===t.payload.key?(a.task=e.task.toUpperCase(),a.key=e.key,n.push(a)):n.push(e)})),{isLoading:!1,data:n,error:null};default:return Q}},X={isLoading:!1,data:[],error:null},Y=function(e,t){switch(t.type){case O:return{isLoading:!0,data:Object(K.a)(e.data),error:null};case f:return{isLoading:!1,data:e.data.filter((function(e){return e.key!==t.payload})),error:null};case y:return{isLoading:!1,data:Object(K.a)(e.data),error:t.error};default:return X}},Z={data:[],status:!1},$=function(e,t){switch(t.type){case g:return{data:[].concat(Object(K.a)(e.data),[t.payload])};case x:var n=!1;return e.data.map((function(e){e.user===t.payload.user&&e.pass===t.payload.pass&&(n=!0)})),{data:Object(K.a)(e.data),status:n};default:return Z}},ee=Object(H.b)({count:q,task:W,remove:Y,user:$}),te={key:"root",version:1,storage:z.a,blacklist:["count"]},ne=Object(G.g)(te,ee),ae=Object(B.a)({reducer:ne,middleware:function(e){return e({serializableCheck:{ignoredActions:[G.a,G.f,G.b,G.c,G.d,G.e]}})}}),re=Object(G.h)(ae);s.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(D.a,{store:ae,children:Object(k.jsx)(V.a,{loading:null,persistor:re,children:Object(k.jsx)(M,{})})})}),document.getElementById("root")),N()}},[[37,1,2]]]);
//# sourceMappingURL=main.600b235d.chunk.js.map